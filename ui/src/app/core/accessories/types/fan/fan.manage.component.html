<div class="modal-content">
  <div class="modal-header">
    <h5 class="modal-title" [innerText]="service.customName || service.serviceName"></h5>
    <button
      type="button"
      class="btn-close"
      data-bs-dismiss="modal"
      [attr.aria-label]="'form.button_close' | translate"
      (click)="$activeModal.dismiss('Dismiss')"
    ></button>
  </div>
  <div class="modal-body text-center px-5">
    <h5>
      {{ 'accessories.control.fan' | translate }} {{ (service.values.On ? 'accessories.control.on' :
      'accessories.control.off') | translate }}
    </h5>

    <div class="btn-group-vertical d-flex justify-content-center mb-4 p-0" role="group" aria-label="Fan Mode Control">
      <button
        type="button"
        class="btn mb-0 mx-0 px-0 py-3"
        (click)="setTargetMode(false)"
        [ngClass]="{ 'btn-primary': !targetMode, 'btn-elegant': targetMode }"
      >
        {{ 'accessories.control.off' | translate }}
      </button>
      <button
        type="button"
        class="btn mb-0 mx-0 px-0 py-3"
        (click)="setTargetMode(true)"
        [ngClass]="{ 'btn-primary': targetMode, 'btn-elegant': !targetMode }"
      >
        {{ 'accessories.control.on' | translate }}
      </button>
    </div>

    @if (targetRotationSpeed) {
    <h5 class="mb-0">{{ 'accessories.control.rotation_speed' | translate }}</h5>
    <p>{{ targetRotationSpeed.value }}@if (targetRotationSpeed.unit === 'percentage') { % }</p>
    <nouislider
      [min]="targetRotationSpeed.min"
      [max]="targetRotationSpeed.max"
      [step]="targetRotationSpeed.step"
      [(ngModel)]="targetRotationSpeed.value"
      (ngModelChange)="onTargetRotationSpeedChange()"
    >
    </nouislider>
    } @if (hasRotationDirection && targetMode) {
    <h5 class="mt-4">{{ 'accessories.control.rotation_direction' | translate }}</h5>
    <div
      class="btn-group-vertical d-flex justify-content-center mb-4 p-0"
      role="group"
      aria-label="Fan Direction Control"
    >
      <button
        type="button"
        class="btn mb-0 mx-0 px-0 py-3"
        (click)="setRotationDirection(0)"
        [ngClass]="{ 'btn-primary': service.values.RotationDirection === 0, 'btn-elegant': service.values.RotationDirection !== 0 }"
      >
        {{ 'accessories.control.rotation_clockwise' | translate }}
      </button>
      <button
        type="button"
        class="btn mb-0 mx-0 px-0 py-3"
        (click)="setRotationDirection(1)"
        [ngClass]="{ 'btn-primary': service.values.RotationDirection === 1, 'btn-elegant': service.values.RotationDirection !== 1 }"
      >
        {{ 'accessories.control.rotation_c_clockwise' | translate }}
      </button>
    </div>
    }
  </div>
  <div class="modal-footer"></div>
</div>
