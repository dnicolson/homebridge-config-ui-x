<div class="modal-content">
  <div class="modal-header">
    <h5 class="modal-title">{{ 'plugins.manage.information' | translate }}</h5>
    <button
      type="button"
      class="close"
      data-dismiss="modal"
      [attr.aria-label]="'form.button_close' | translate"
      (click)="$activeModal.dismiss('Dismiss')"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body w-100 text-center">
    <img [src]="plugin.icon" (error)="handleIconError()" alt="Plugin Icon" class="mb-3 plugin-icon" />
    <h4><code>{{ plugin.name }}</code></h4>
    <p class="my-3">{{ plugin.description }}</p>
    <p class="grey-text mb-4">&#64;{{ plugin.author }}</p>
    <i
      class="fas fa-fw fa-shield-alt mb-3"
      style="font-size: 48px"
      [ngClass]="{ 'orange-text': !plugin.verifiedPlugin && !plugin.verifiedPlusPlugin, 'grey-text': plugin.verifiedPlugin || plugin.verifiedPlusPlugin }"
      [ngStyle]="{ 'opacity': !plugin.verifiedPlugin && !plugin.verifiedPlusPlugin ? 1 : 0.25 }"
    ></i>
    <i
      class="fas fa-fw fa-shield-alt mb-3"
      style="font-size: 48px"
      [ngClass]="{ 'green-text': !plugin.isHbScoped && (plugin.verifiedPlugin || plugin.verifiedPlusPlugin), 'grey-text': plugin.isHbScoped || (!plugin.verifiedPlugin && !plugin.verifiedPlusPlugin) }"
      [ngStyle]="{ 'opacity': !plugin.isHbScoped && (plugin.verifiedPlugin || plugin.verifiedPlusPlugin) ? 1 : 0.25 }"
    ></i>
    <i
      class="fas fa-fw fa-shield-alt mb-3"
      style="font-size: 48px"
      [ngClass]="{ 'blue-text': plugin.isHbScoped, 'grey-text': !plugin.isHbScoped }"
      [ngStyle]="{ 'opacity': plugin.isHbScoped ? 1 : 0.25 }"
    ></i>
    @if (plugin.isHbScoped) {
    <p class="mb-3">{{ 'plugins.manage.scoped_subtitle' | translate }}</p>
    <p class="grey-text">{{ 'plugins.manage.scoped_message' | translate }}</p>
    <p class="grey-text">{{ 'plugins.manage.verified_message' | translate }}</p>
    } @if (!plugin.isHbScoped && (plugin.verifiedPlugin || plugin.verifiedPlusPlugin)) {
    <p class="mb-3">{{ 'plugins.manage.verified_subtitle' | translate }}</p>
    <p class="grey-text">{{ 'plugins.manage.verified_message' | translate }}</p>
    } @if (!plugin.verifiedPlugin && !plugin.verifiedPlusPlugin) {
    <p class="mb-3">{{ 'plugins.manage.unverified_subtitle' | translate }}</p>
    <p class="grey-text">{{ 'plugins.manage.unverified_message' | translate }}</p>
    }
    <p
      class="grey-text"
      [innerHTML]="'plugins.manage.more_info' | translate: { scoped: linkScoped, verified: linkVerified }"
    ></p>
  </div>
  <div class="modal-footer justify-content-between">
    <div class="text-left">
      @if (plugin.links.homepage || plugin.links.npm) {
      <button type="button" class="btn btn-elegant" data-dismiss="modal" (click)="$activeModal.dismiss('Dismiss')">
        {{ 'form.button_close' | translate }}
      </button>
      }
    </div>
    <div class="text-center">
      @if (!plugin.links.homepage && !plugin.links.npm) {
      <button type="button" class="btn btn-elegant" data-dismiss="modal" (click)="$activeModal.dismiss('Dismiss')">
        {{ 'form.button_close' | translate }}
      </button>
      }
    </div>
    <div class="text-right">
      @if (plugin.links.homepage || plugin.links.npm) {
      <a
        class="btn btn-primary text-decoration-none"
        target="_blank"
        [href]="plugin.links.homepage || plugin.links.npm"
        rel="noopener noreferrer"
      >
        {{ 'plugins.button_homepage' | translate }} <i class="fas fa-fw fa-external-link-alt"></i>
      </a>
      }
    </div>
  </div>
</div>
